<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link th:href="@{/public/css/show.css}" th:rel="stylesheet">
  <link th:href="@{/public/css/cards-cool-style.css}" th:rel="stylesheet">
  <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div th:replace="/fragments/navbar"></div>
<div class="row" style="background-color: #0c0818">
<!--  <div class="col-4">-->
    <div class="list-group" id="myList" role="tablist"
         style="width: auto; margin: 10px; padding-left: 10px;
          color:whitesmoke; background-color: #0c0818">
      <a th:each="day: ${days}" class="list-group-item list-group-item-action" data-toggle="list"
         th:href="${'/exercises-plan?day=' + day}" role="tab"><em><h3 th:text="#{day_} + ' '+ ${day}"
      ></h3></em>
      </a>
    </div>

  <div class="pricing-container" th:if="${content == null}">
    <header class="pricing-header">
      <h2 th:text="#{day_} + ' ' +${day_}" style="padding: 50px; color: whitesmoke"></h2>
      <h2 th:text="#{${rest_day}}" th:if="${rest_day != null}" style="padding: 50px; color: whitesmoke"></h2>
    </header>
<!--      <form th:action="@{/exercises-plan}" th:object="${select_exercise2}" method="post">-->
    <div class="pricing-switcher" th:if="${exercises != null}">
      <p class="fieldset">
        <input type="radio" name="duration-1" value="monthly" id="monthly-1" checked>
        <label for="monthly-1" th:text="#{label.mine}">Мои</label>
        <input type="radio" name="duration-1" value="yearly" id="yearly-1">
        <label for="yearly-1" th:text="#{label.common}">Общие</label>
        <span class="switch"></span>
      </p>
    </div>
    <ul class="pricing-list bounce-invert" th:if="${exercises != null}">
      <li class="exclusive" th:each="exercise: ${exercises}">
        <ul class="pricing-wrapper">
          <li data-type="monthly" class="is-visible">
            <header class="pricing-header">
              <h2 th:text="${exercise.name}">Упражнение 1</h2>
              <div class="price">
                <span class="currency" th:text="#{label.will.be.burned}">Будет сожжено</span>
                <span class="value" th:text="${exercise.caloriesBurnedPerMinute * minutes}">60</span>
                <span class="duration" th:text="#{calories_}">каллорий</span>
              </div>
            </header>
            <div class="pricing-body">
              <ul class="pricing-features">
                <li>За <em th:text="${minutes}">15</em> <span th:text="#{label.minutes.small}"></span></li>
                  <li><span th:text="#{label.exercise.mode}"></span> <em th:text="#{${exercise.exerciseMode.name()}}"></em> </li>
              </ul>
            </div>
            <footer class="pricing-footer">

<!--                    <input type="hidden" id="select_exerciseExercise_id" name="select_exerciseExercise_id" th:field="*{select_exercise2.setExercise_id()}" th:value="${exercise.id}">-->
<!--                    <input type="hidden" id="select_exerciseMode" name="select_exerciseMode" th:field="*{select_exercise2.mode}" th:value="${exercise.exerciseMode.name()}">-->
<!--                    <input type="hidden" id="select_exerciseMinutes" name="select_exerciseMinutes" th:field="*{select_exercise2.minutes}" th:value="${minutes}" required>-->

<!--                    <button type="submit" class="select" href="#">Сделано</button>-->
                <a class="select" href="#" th:text="#{exercise.done}"></a>
            </footer>
          </li>
          <li data-type="yearly" class="is-hidden">
            <header class="pricing-header">
              <h2 th:utext="${exercise.name} + '&lt;br&gt;' + '(' + #{general.info}+  ')' + '&lt;/br&gt;'">
<!--                <div th:text="${exercise.name}"></div>-->
<!--                <br>-->
<!--                <div>Общая инфа</div>Упражнение1 (Общая инфа)-->
              </h2>
              <div class="price">
                <span class="currency" th:text="#{label.burned}">Сжигается</span>
                <span class="value" th:text="${exercise.caloriesBurnedPerMinute}"></span>
                <span class="duration" th:text="#{label.calories.per.minute}">калорий за 1 минуту</span>
              </div>
            </header>
            <div class="pricing-body">
              <ul class="pricing-features">
                  <li><span th:text="#{when.temp}"></span> <em th:text="#{${exercise.exerciseMode}}">темп</em></li>
              </ul>
            </div>
            <footer class="pricing-footer">
<!--              <a class="select" href="#">Sign Up</a>-->
            </footer>
          </li>
        </ul>
      </li>
    </ul>
<!--      </form>-->
  </div>
    >
  <div th:if="${content != null}" style="background-color: #0c0818">
          <header class="pricing-header">
            <h2 th:text="#{${content}}" style="padding: 50px; color: whitesmoke"></h2>
          </header>
  </div>
</div>
<!--</div>-->
</body>

<script>
  jQuery(document).ready(function($){
    //hide the subtle gradient layer (.pricing-list > li::after) when pricing table has been scrolled to the end (mobile version only)
    checkScrolling($('.pricing-body'));
    $(window).on('resize', function(){
      window.requestAnimationFrame(function(){checkScrolling($('.pricing-body'))});
    });
    $('.pricing-body').on('scroll', function(){
      var selected = $(this);
      window.requestAnimationFrame(function(){checkScrolling(selected)});
    });

    function checkScrolling(tables){
      tables.each(function(){
        var table= $(this),
                totalTableWidth = parseInt(table.children('.pricing-features').width()),
                tableViewport = parseInt(table.width());
        if( table.scrollLeft() >= totalTableWidth - tableViewport -1 ) {
          table.parent('li').addClass('is-ended');
        } else {
          table.parent('li').removeClass('is-ended');
        }
      });
    }

    //switch from monthly to annual pricing tables
    bouncy_filter($('.pricing-container'));

    function bouncy_filter(container) {
      container.each(function(){
        var pricing_table = $(this);
        var filter_list_container = pricing_table.children('.pricing-switcher'),
                filter_radios = filter_list_container.find('input[type="radio"]'),
                pricing_table_wrapper = pricing_table.find('.pricing-wrapper');

        //store pricing table items
        var table_elements = {};
        filter_radios.each(function(){
          var filter_type = $(this).val();
          table_elements[filter_type] = pricing_table_wrapper.find('li[data-type="'+filter_type+'"]');
        });

        //detect input change event
        filter_radios.on('change', function(event){
          event.preventDefault();
          //detect which radio input item was checked
          var selected_filter = $(event.target).val();

          //give higher z-index to the pricing table items selected by the radio input
          show_selected_items(table_elements[selected_filter]);

          //rotate each pricing-wrapper
          //at the end of the animation hide the not-selected pricing tables and rotate back the .pricing-wrapper
/*
          if( !Modernizr.cssanimations ) {
            hide_not_selected_items(table_elements, selected_filter);
            pricing_table_wrapper.removeClass('is-switched');
          } else {*/
            pricing_table_wrapper.addClass('is-switched').eq(0).one('webkitAnimationEnd oanimationend msAnimationEnd animationend', function() {
              hide_not_selected_items(table_elements, selected_filter);
              pricing_table_wrapper.removeClass('is-switched');
              //change rotation direction if .pricing-list has the .bounce-invert class
              if(pricing_table.find('.pricing-list').hasClass('bounce-invert')) pricing_table_wrapper.toggleClass('reverse-animation');
            });
          // }
        });
      });
    }
    function show_selected_items(selected_elements) {
      selected_elements.addClass('is-selected');
    }

    function hide_not_selected_items(table_containers, filter) {
      $.each(table_containers, function(key, value){
        if ( key != filter ) {
          $(this).removeClass('is-visible is-selected').addClass('is-hidden');

        } else {
          $(this).addClass('is-visible').removeClass('is-hidden is-selected');
        }
      });
    }
  });
  /*$('#myList a').on('click', function (e) {
    e.preventDefault()
    $(this).tab('show')
  })*/
</script>
</html>